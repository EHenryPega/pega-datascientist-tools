<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generates PMML files from ADM models. — adm2pmml • cdhtools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generates PMML files from ADM models. — adm2pmml" />
<meta property="og:description" content="Generates PMML files from the ADM models in either the ADM data mart,
directly from the database or from dataset exports, or from the (internal)
&quot;Factory&quot; tables. The generated PMML contains all the individual models for
each model partition inside a big ensemble that selects between them based on
context keys." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cdhtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/adhoc-datasetanalysis.html">adhoc-datasetanalysis</a>
    </li>
    <li>
      <a href="../articles/adm-datamart.html">adm-datamart</a>
    </li>
    <li>
      <a href="../articles/adm-explained.html">adm-explained</a>
    </li>
    <li>
      <a href="../articles/ih-reporting.html">ih-reporting</a>
    </li>
    <li>
      <a href="../articles/predictor-evolution.html">predictor-evolution</a>
    </li>
    <li>
      <a href="../articles/snapshots-to-scorecards.html">snapshots-to-scorecards</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates PMML files from ADM models.</h1>
    
    <div class="hidden name"><code>adm2pmml.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates PMML files from the ADM models in either the ADM data mart,
directly from the database or from dataset exports, or from the (internal)
"Factory" tables. The generated PMML contains all the individual models for
each model partition inside a big ensemble that selects between them based on
context keys.</p>
    </div>

    <pre class="usage"><span class='fu'>adm2pmml</span><span class='op'>(</span>
  dmModels <span class='op'>=</span> <span class='cn'>NULL</span>,
  dmPredictors <span class='op'>=</span> <span class='cn'>NULL</span>,
  dbConn <span class='op'>=</span> <span class='cn'>NULL</span>,
  forceUseDM <span class='op'>=</span> <span class='cn'>FALSE</span>,
  appliesToFilter <span class='op'>=</span> <span class='cn'>NULL</span>,
  ruleNameFilter <span class='op'>=</span> <span class='cn'>NULL</span>,
  destDir <span class='op'>=</span> <span class='st'>"."</span>,
  tmpDir <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span><span class='op'>(</span><span class='va'>tmpDir</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dmModels</th>
      <td><p>Data frame (or anything else that converts to
<code>data.table</code>) with the ADM datamart model data</p></td>
    </tr>
    <tr>
      <th>dmPredictors</th>
      <td><p>Data frame (or anything else that converts to
<code>data.table</code>) with the ADM datamart predictor data. Required if
<code>dmModels</code> is given. If <code>dmPredictors</code> is given but
<code>dmModels</code> is not, the assumption will be made that all the predictor
binning belongs to a single model.</p></td>
    </tr>
    <tr>
      <th>dbConn</th>
      <td><p>Database connection. If given, the data will be extracted from
the internal ADM Factory table unless the <code>forceUseDM</code> flag is set.</p></td>
    </tr>
    <tr>
      <th>forceUseDM</th>
      <td><p>Only in combination with the <code>dbConn</code> flag. If TRUE,
will use the ADM datamart tables. If FALSE (the default) will use the ADM
Factory tables.</p></td>
    </tr>
    <tr>
      <th>appliesToFilter</th>
      <td><p>Optional filter for the applies to class of the models
as a regexp passed on to <code><a href='https://rdrr.io/r/base/grep.html'>grepl</a></code> with <code>ignore.case =
TRUE</code>, <code>perl = TRUE</code>, <code>fixed = FALSE</code>, <code>useBytes = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>ruleNameFilter</th>
      <td><p>Optional filter for the rule name of the models as a
regexp passed on to <code><a href='https://rdrr.io/r/base/grep.html'>grepl</a></code> with <code>ignore.case =
TRUE</code>, <code>perl = TRUE</code>, <code>fixed = FALSE</code>, <code>useBytes = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>destDir</th>
      <td><p>Directory to create the PMML files in. Defaults to the current
directory.</p></td>
    </tr>
    <tr>
      <th>tmpDir</th>
      <td><p>Directory for temporary files. Defaults to <code>NULL</code>
indicating no temp files will be left behind.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Whether to print the steps it's performing. Defaults to
<code>TRUE</code> if the <code>tmpDir</code> is set.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Creates the PMML file(s) in the given destination and returns a list
  of model ID's per file.</p>
    <h2 class="hasAnchor" id="exporting-a-specific-version"><a class="anchor" href="#exporting-a-specific-version"></a>Exporting a specific version</h2>

    <p>When exporting from the datamart, only
  the models from the most recent model snapshot will be exported, and for
  each of these, only the most recent of the predictor snapshots of that
  model will be used. To export specific snapshots subset the data before
  calling this method.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>adm2pmml</span><span class='op'>(</span>verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "No models available matching the filter criteria"</div><div class='output co'>#&gt; list()</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>models</span> <span class='op'>&lt;-</span> <span class='fu'><a href='readDSExport.html'>readDSExport</a></span><span class='op'>(</span><span class='st'>"Data-Decision-ADM-ModelSnapshot_AllModelSnapshots"</span>, <span class='st'>"~/Downloads"</span><span class='op'>)</span>
  <span class='va'>preds</span> <span class='op'>&lt;-</span> <span class='fu'><a href='readDSExport.html'>readDSExport</a></span><span class='op'>(</span><span class='st'>"Data-Decision-ADM-PredictorBinningSnapshot_AllPredictorSnapshots"</span>,
                        <span class='st'>"~/Downloads"</span><span class='op'>)</span>

  <span class='fu'>adm2pmml</span><span class='op'>(</span><span class='va'>models</span>, <span class='va'>preds</span>, verbose<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Otto Perdeck.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


