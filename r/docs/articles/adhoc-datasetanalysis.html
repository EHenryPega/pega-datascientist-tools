<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>adhoc-datasetanalysis • cdhtools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="adhoc-datasetanalysis">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cdhtools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/adhoc-datasetanalysis.html">adhoc-datasetanalysis</a>
    </li>
    <li>
      <a href="../articles/adm-reporting.html">adm-reporting</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>adhoc-datasetanalysis</h1>
                        <h4 class="author">Otto Perdeck</h4>
            
            <h4 class="date">2018-10-30</h4>
      
      
      <div class="hidden name"><code>adhoc-datasetanalysis.Rmd</code></div>

    </div>

    
    
<div id="ad-hoc-data-analysis-using-dataset-exports" class="section level1">
<h1 class="hasAnchor">
<a href="#ad-hoc-data-analysis-using-dataset-exports" class="anchor"></a>Ad-Hoc Data Analysis using Dataset Exports</h1>
<p>When testing and debugging DSM projects involving data flows, it often is very handy to inspect datasets. There are a couple of out-of-the-box datasets, like <code>pxInteractionHistory</code> that represents the data stored in IH, or <code>pxDecisionResults</code> that contains the model data and the results of strategies. You can also have custom datasets created perhaps as the results of running dataflows or when generating data with MonteCarlo datasets.</p>
<p>Any of the datasets that supports the <code>browse</code> operation (basically, any that can be read from), can also be exported. The export format used is multi-line JSON, i.e. every record from the dataset is exported as a single line containing the JSON data.</p>
<p>Once you have exported a dataset from Pega, you can easily import it and explore it.</p>
<p>In this example we take a look at a sample of <code>pxInteractionHistory</code> but this really works for any dataset.</p>
<p>In Pega, export the dataset and download it to your local filesystem.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(cdhtools)
ihdata &lt;-<span class="st"> </span><span class="kw"><a href="../reference/readDSExport.html">readDSExport</a></span>(<span class="st">"Data-pxStrategyResult_pxInteractionHistory"</span>, <span class="st">"~/Downloads"</span>) </code></pre></div>
<p>The <code>cdhtools</code> package ships with a small sample of IH data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(ihsampledata, <span class="dt">package=</span><span class="st">"cdhtools"</span>)
knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw">head</span>(ihsampledata,<span class="dv">10</span>))</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">pxObjClass</th>
<th align="left">pySubjectType</th>
<th align="left">pxInteractionID</th>
<th align="left">pxFactID</th>
<th align="left">pyDivision</th>
<th align="left">pyStage</th>
<th align="left">pxOutcomeTime</th>
<th align="left">pyJourney</th>
<th align="left">pyApplication</th>
<th align="right">pxPriority</th>
<th align="left">pyInteraction</th>
<th align="left">pyName</th>
<th align="left">pyChannel</th>
<th align="left">pyOrganization</th>
<th align="left">pyStep</th>
<th align="left">pyUnit</th>
<th align="left">pySubjectID</th>
<th align="left">pyDirection</th>
<th align="left">pyGroup</th>
<th align="left">pyOutcome</th>
<th align="left">pyApplicationVersion</th>
<th align="left">pyComponent</th>
<th align="left">pyOperator</th>
<th align="right">pxRank</th>
<th align="left">pxDecisionTime</th>
<th align="left">pyLabel</th>
<th align="left">pyPartitionKey</th>
<th align="left">pyStrategy</th>
<th align="left">pyIssue</th>
<th align="right">pyPropensity</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190256539</td>
<td align="left">1730831912190261079</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20151124T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Samsung Galaxy Tab A 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-4</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Accept</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">5</td>
<td align="left">20180319T154357.726 GMT</td>
<td align="left">Samsung Galaxy Tab A 64GB</td>
<td align="left">181</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="even">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190267754</td>
<td align="left">1730831912190272427</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20151202T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">1.953125</td>
<td align="left"></td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-4</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">7</td>
<td align="left">20180319T154500.680 GMT</td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">181</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.3716216</td>
</tr>
<tr class="odd">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190257203</td>
<td align="left">1730831912190263952</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20151203T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Asus ZenPad 3S 256GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-10</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">10</td>
<td align="left">20180319T154408.170 GMT</td>
<td align="left">Asus ZenPad 3S 256GB</td>
<td align="left">80</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="even">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190256736</td>
<td align="left">1730831912190261390</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20151210T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Asus ZenPad 3S 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-2</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Accept</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">7</td>
<td align="left">20180319T154401.159 GMT</td>
<td align="left">Asus ZenPad 3S 64GB</td>
<td align="left">47</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="odd">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190257203</td>
<td align="left">1730831912190263949</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20151230T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Asus ZenPad 3S 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-10</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">7</td>
<td align="left">20180319T154408.170 GMT</td>
<td align="left">Asus ZenPad 3S 64GB</td>
<td align="left">80</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="even">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190267397</td>
<td align="left">1730831912190270130</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20160112T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">0.000000</td>
<td align="left"></td>
<td align="left">High Low</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-9</td>
<td align="left">Inbound</td>
<td align="left">Tariffs</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">4</td>
<td align="left">20180319T154453.475 GMT</td>
<td align="left">High Low</td>
<td align="left">180</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190267855</td>
<td align="left">1730831912190272221</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20160124T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">1.500000</td>
<td align="left"></td>
<td align="left">Huawei Nova 32GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-2</td>
<td align="left">Inbound</td>
<td align="left">Phones</td>
<td align="left">Accept</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">5</td>
<td align="left">20180319T154503.319 GMT</td>
<td align="left">Huawei Nova 32GB</td>
<td align="left">47</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="even">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190256515</td>
<td align="left">1730831912190260381</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20160125T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-4</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">6</td>
<td align="left">20180319T154357.394 GMT</td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">181</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="odd">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190256515</td>
<td align="left">1730831912190260383</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20160126T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Samsung Galaxy Tab A 256GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-4</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Accept</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">8</td>
<td align="left">20180319T154357.394 GMT</td>
<td align="left">Samsung Galaxy Tab A 256GB</td>
<td align="left">181</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
<tr class="even">
<td align="left">Data-pxStrategyResult</td>
<td align="left">DMOrg-DMSample-Data-Customer</td>
<td align="left">1730831912190256539</td>
<td align="left">1730831912190261080</td>
<td align="left">Div</td>
<td align="left"></td>
<td align="left">20160129T050000.000 GMT</td>
<td align="left"></td>
<td align="left">DMSample</td>
<td align="right">2.500000</td>
<td align="left"></td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">Call Center</td>
<td align="left">Example.org</td>
<td align="left"></td>
<td align="left">Unit</td>
<td align="left">CE-4</td>
<td align="left">Inbound</td>
<td align="left">Tablets</td>
<td align="left">Reject</td>
<td align="left">01.01.01</td>
<td align="left">Simulate Outcome</td>
<td align="left"><a href="mailto:Admin@Example.org">Admin@Example.org</a></td>
<td align="right">6</td>
<td align="left">20180319T154357.726 GMT</td>
<td align="left">Apple iPad Pro 64GB</td>
<td align="left">181</td>
<td align="left">GenerateInteractions</td>
<td align="left">Sales</td>
<td align="right">0.5000000</td>
</tr>
</tbody>
</table>
<p>Some of the columns in your dataset may represent date or date-time values. Pega will export these as strings in the standard Pega format. For analysis it will be convenient to convert them to proper date/time objects so we can easily report and plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (f <span class="cf">in</span> <span class="kw">c</span>(<span class="st">"pxOutcomeTime"</span>, <span class="st">"pxDecisionTime"</span>)) {
  ihsampledata[[f]] &lt;-<span class="st"> </span>cdhtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/cdhtools/topics/fromPRPCDateTime">fromPRPCDateTime</a></span>(ihsampledata[[f]])
}
<span class="kw">summary</span>(ihsampledata)
<span class="co">#&gt;   pxObjClass        pySubjectType      pxInteractionID   </span>
<span class="co">#&gt;  Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;    pxFactID          pyDivision          pyStage         </span>
<span class="co">#&gt;  Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;  pxOutcomeTime                  pyJourney         pyApplication     </span>
<span class="co">#&gt;  Min.   :2015-11-24 05:00:00   Length:174         Length:174        </span>
<span class="co">#&gt;  1st Qu.:2016-07-16 11:00:00   Class :character   Class :character  </span>
<span class="co">#&gt;  Median :2017-02-01 17:00:00   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;  Mean   :2017-01-26 14:29:39                                        </span>
<span class="co">#&gt;  3rd Qu.:2017-07-24 05:00:00                                        </span>
<span class="co">#&gt;  Max.   :2018-03-16 05:00:00                                        </span>
<span class="co">#&gt;                                                                     </span>
<span class="co">#&gt;    pxPriority    pyInteraction         pyName           pyChannel        </span>
<span class="co">#&gt;  Min.   :0.000   Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  1st Qu.:0.000   Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Median :1.869   Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;  Mean   :1.551                                                           </span>
<span class="co">#&gt;  3rd Qu.:2.500                                                           </span>
<span class="co">#&gt;  Max.   :2.868                                                           </span>
<span class="co">#&gt;                                                                          </span>
<span class="co">#&gt;  pyOrganization        pyStep             pyUnit         </span>
<span class="co">#&gt;  Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;  pySubjectID        pyDirection          pyGroup         </span>
<span class="co">#&gt;  Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;   pyOutcome         pyApplicationVersion pyComponent       </span>
<span class="co">#&gt;  Length:174         Length:174           Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character     Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character     Mode  :character  </span>
<span class="co">#&gt;                                                            </span>
<span class="co">#&gt;                                                            </span>
<span class="co">#&gt;                                                            </span>
<span class="co">#&gt;                                                            </span>
<span class="co">#&gt;   pyOperator            pxRank       pxDecisionTime               </span>
<span class="co">#&gt;  Length:174         Min.   : 1.000   Min.   :2018-03-19 15:43:52  </span>
<span class="co">#&gt;  Class :character   1st Qu.: 2.000   1st Qu.:2018-03-19 15:43:57  </span>
<span class="co">#&gt;  Mode  :character   Median : 4.000   Median :2018-03-19 15:44:05  </span>
<span class="co">#&gt;                     Mean   : 4.632   Mean   :2018-03-19 15:44:25  </span>
<span class="co">#&gt;                     3rd Qu.: 7.000   3rd Qu.:2018-03-19 15:44:55  </span>
<span class="co">#&gt;                     Max.   :10.000   Max.   :2018-03-19 15:45:44  </span>
<span class="co">#&gt;                                                                   </span>
<span class="co">#&gt;    pyLabel          pyPartitionKey      pyStrategy       </span>
<span class="co">#&gt;  Length:174         Length:174         Length:174        </span>
<span class="co">#&gt;  Class :character   Class :character   Class :character  </span>
<span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;                                                          </span>
<span class="co">#&gt;    pyIssue           pyPropensity   </span>
<span class="co">#&gt;  Length:174         Min.   :0.1931  </span>
<span class="co">#&gt;  Class :character   1st Qu.:0.5000  </span>
<span class="co">#&gt;  Mode  :character   Median :0.5000  </span>
<span class="co">#&gt;                     Mean   :0.4777  </span>
<span class="co">#&gt;                     3rd Qu.:0.5000  </span>
<span class="co">#&gt;                     Max.   :0.6429  </span>
<span class="co">#&gt;                     NA's   :57</span></code></pre></div>
<p>With the data in place, you can now do the analyses you want. For the IH data we can for example plot accept rate over time.</p>
<p>BTW, if you’re not familiar with the <code>data.table</code> syntax below, it would be a good idea to look into this. The internals of <code>cdhtools</code> heavily rely on it also.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
ihsampledata[, period <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">cut</span>(ihsampledata<span class="op">$</span>pxOutcomeTime,<span class="dv">10</span>)]
ihsampledata[, successRate <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="kw">sum</span>(pyOutcome<span class="op">==</span><span class="st">"Accept"</span>)<span class="op">/</span>.N, by=period]
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(ihsampledata, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(period, successRate, <span class="dt">fill=</span>pyGroup)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_bar</a></span>(<span class="dt">stat=</span><span class="st">"identity"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">labs</a></span>(<span class="dt">title =</span> <span class="st">"Success Rate over Time"</span>, <span class="dt">x=</span><span class="st">""</span>, <span class="dt">y=</span><span class="st">"Success Rate"</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/theme">theme</a></span>(<span class="dt">axis.text.x=</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/element">element_text</a></span>(<span class="dt">angle=</span><span class="dv">45</span>, <span class="dt">hjust=</span><span class="dv">1</span>))</code></pre></div>
<p><img src="adhoc-datasetanalysis_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>But you can of course also use a different style, for example the style from the <code>tidyverse</code> universe:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="kw">group_by</span>(ihsampledata, pyName, pyGroup, pyIssue) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">         </span><span class="kw">rename</span>(<span class="st">`</span><span class="dt">Business Issue</span><span class="st">`</span>=pyIssue) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">         </span><span class="kw">summarise</span>(<span class="dt">count =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">         </span><span class="kw">mutate</span>(<span class="dt">pct =</span> count<span class="op">/</span><span class="kw">nrow</span>(ihsampledata)), 
       <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(pyName, pct, <span class="dt">fill=</span><span class="st">`</span><span class="dt">Business Issue</span><span class="st">`</span>)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_bar">geom_bar</a></span>(<span class="dt">stat=</span><span class="st">"identity"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/coord_flip">coord_flip</a></span>()<span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_continuous">scale_y_continuous</a></span>(<span class="dt">labels =</span> scales<span class="op">::</span>percent)<span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">labs</a></span>(<span class="dt">title =</span> <span class="st">"Proposition Distribution"</span>, <span class="dt">x=</span><span class="st">"Proposition"</span>, <span class="dt">y=</span><span class="st">"Percentage of Total Offered"</span>)</code></pre></div>
<p><img src="adhoc-datasetanalysis_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#ad-hoc-data-analysis-using-dataset-exports">Ad-Hoc Data Analysis using Dataset Exports</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by .</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
